#+TITLE: Diamond's Emacs
#+DESCRIPTION: Eight Megabytes And Constantly Swapping
#+CREATED: <2020-06-29 Mon>
#+AUTHOR: Diamond Bond
#+EMAIL: diamondbond1@gmail.com
#+LANGUAGE: en
#+CREATOR: Emacs 28.1 (Org mode 9.5.3)
#+STARTUP: inlineimages show2levels
#+SETUPFILE: resources/white.theme
#+OPTIONS: toc:2

* Introduction

#+begin_center
[[./img/gnusstorm-2.gif]]
#+end_center

#+begin_center
*[EMACS CONFIGURATION]*

[[https://github.com/diamondbond/emacs][*Github*]] | [[https://raw.githubusercontent.com/DiamondBond/emacs/master/config.org][*Source*]]
#+end_center

#+begin_quote

Simple Emacs distro aimed at enhancing the default experience.

Personally, I feel inspired whenever I open Emacs. Like a craftsman entering his workshop, I feel a realm of possibility open before me. I feel the comfort of an environment that has evolved over time to fit me perfectly â€“ an assortment of packages and keybindings which help me bring ideas to life day after day. - Daniel Higginbotham

#+end_quote

** Preview

This entire config can be viewed [[https://diamondbond.neocities.org/emacs.html][here]] in HTML format.

** Principles

This configuration and all associated modules intend to follow the below priniciples.

*** Performant

Provides a responsive experience that adheres to form follows function principles.

*** Reproducible

Utilizes straight.el for reproducibility & increased stability.

*** Literate

Every elisp snippet is commented or documented.

Provide verbose doc-strings and inline code commentary.

*** Correct

Aggressively utilizes best practices.

Where possible, we will leverage built-in Emacs functionality instead of external packages.

*** Modular

The base configuration only sets up Emacs to have a cleaner presentation with sensible defaults.

The implication is that someone should be able to install or copy code from this configuration into their own configuration or vice versa.

** Overview

: CHRONOLOGICAL LOAD ORDER :

*** *early-init.el*
- [[file:early-init.el][early-bootstrap]] - Early bootstrap

*** *init.el*
- [[file:init.el][bootstrap]] - Bootstrap straight.el

*** *config.org*
- [[https://github.com/DiamondBond/emacs/blob/master/config.org#base][base]] - Base configuration
- [[https://github.com/DiamondBond/emacs/blob/master/config.org#keybinds][keybinds]] - Keybinding maps
- [[https://github.com/DiamondBond/emacs/blob/master/config.org#use-package][packages]] - Package manifest
- [[https://github.com/DiamondBond/emacs/blob/master/config.org#languages][languages]] - Language manifest
- [[https://github.com/DiamondBond/emacs/blob/master/config.org#functions][functions]] - Function definitions

*** *userconfig.org*
- [[https://github.com/DiamondBond/emacs/blob/master/userconfig.org][user]] - User configuration

*** *modules/mail.org*
- [[https://github.com/DiamondBond/emacs/blob/master/modules/mail.org][mail]] - Mail configuration

** Dependencies

Some dependencies are required to run this Emacs distro.

*** Packages
**** System

#+begin_quote
offlineimap
fzf ripgrep ag
clang clangd llvm
texlive-core texlive-bin texlive-science
imagemagick
editorconfig
libjansson
rust-all cargo
nodejs npm
libxml2
gopls
gnuplot
prettier
hunspell
#+end_quote
**** Python

#+begin_src sh
  pip3 install pyflakes isort nose pytest pygifsicle nose2 httpserver future pandas numpy matplotlib python-rofi
#+end_src

**** NodeJS

Deno & typescript-language-server for Typescript (TS/TSX) support.

#+begin_src sh
  sudo npm install -g deno typescript-language-server bash-language-server
#+end_src
*** Files
**** Dropbox Folders

Symlink ~/org & ~/pdf to their respective subdirs within ~/Dropbox.

#+begin_src sh
  mkdir -p ~/Dropbox/{org,pdfs}; ln -s ~/Dropbox/org ~/org; ln -s ~/Dropbox/pdfs ~/pdfs
#+end_src

**** Auth-Info Files

#+begin_quote
~/org/.authinfo.gpg

~/org/secrets-el.gpg

~/org/network-security.data

~/.emacs.d/custom.el
#+end_quote

NOTE: 'auth-info' can be backed up and restored to/from ~/org with =M-x auth/backup= & =M-x auth/restore=.

* Installation
** Install Emacs

[[https://github.com/DiamondBond/emacs/blob/master/docs/emacsfromsource.org][Emacs]] build instructions.

** Clone this repo

#+caption: Command to clone this Emacs distros =git= repository.
#+name: li#git_clone
#+begin_src sh

  git clone https://github.com/diamondbond/emacs ~/git/emacs

#+end_src

** Install the config

#+caption: Command to install this Emacs distro.
#+name: li#install
#+begin_src sh

  mv ~/.emacs.d ~/.emacs.d.old

  cd ~/git/emacs
  chmod +x install.sh
  ./install.sh

#+end_src

** Bootstrap Emacs

This will take some time.
NOTE: Please answer y for vterm-modules to be autoinstalled.

#+caption: Command to bootstrap this Emacs distro.
#+name: li#bootstrap
#+begin_src sh

  emacs --daemon

#+end_src

** Connect to Emacs

#+caption: Command to connect to Emacs daemon.
#+name: li#connectemacs
#+begin_src sh

  emacsclient -c -n -a 'emacs'

#+end_src

** Post Setup

Once Emacs launches for the first time we need to setup a few more things for everything to work as intended.

*** Compile pdf-tools

Install pdf-tools.

#+begin_quote
M-x pdf-tools-install
#+end_quote

*** Compile vterm modules

Compile vterm-modules & setup vterm.

#+begin_quote
M-x vterm
#+end_quote

*** Setup all-the-icons

Download & install the all-the-icons font.

#+begin_quote
M-x all-the-icons-install-fonts
#+end_quote

*** Setup LSP

Install [[https://github.com/emacs-lsp/lsp-mode#supported-languages][language servers]] manually (see [[https://github.com/DiamondBond/emacs#dependencies][dependencies]]) or with =M-x lsp-install-server=

*** Setup Email

Refer to the [[https://github.com/DiamondBond/emacs/blob/master/docs/setupemail.org][Email setup documentation]] for this functionality.
